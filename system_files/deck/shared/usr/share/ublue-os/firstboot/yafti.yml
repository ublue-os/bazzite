title: Bazzite Portal
properties:
  mode: "run-once"
  save_state: "always"
screens:
  first-screen:
    source: yafti.screen.title
    values:
      title: "Welcome to Bazzite-Deck"
      icon: "/usr/share/ublue-os/bazzite/logo.svg"
      description: |
        Install additional applications.
  applications:
    source: yafti.screen.package
    values:
      title: Setting up Bazzite
      show_terminal: true
      package_manager: yafti.plugin.run
      groups:
        Decky Loader:
          description: A plugin loader for the Steam Deck
          default: false
          packages:
          - Retrieve Decky: ujust setup-decky install
        Decky Bazzite Buddy:
          description: A Decky plugin that lets you see Bazzite changelogs in Game Mode.
          default: false
          packages:
          - Retrieve Decky Bazzite Buddy: ujust get-decky-bazzite-buddy
        Decky Framegen Plus:
          description: A Decky plugin that swaps DLSS for FSR and adds framegen to non-framegen games
          default: false
          packages:
          - Retrieve Decky Framegen: ujust get-framegen install-decky-plugin 
        EmuDeck:
          description: A utility for installing and configuring emulators on the Steam Deck
          default: false
          packages:
          - Retrieve EmuDeck: ujust get-emudeck
        Sunshine:
          description: A self-hosted game stream host for Moonlight
          default: false
          packages:
          - Enable Sunshine: ujust setup-sunshine enable
        Waydroid:
          description: Android app compatibility layer for Linux
          default: false
          packages:
          - Initialize Waydroid: ujust setup-waydroid init
        Oversteer:
          description: Application to control supported steering wheels
          default: false
          packages:
          - Install Oversteer: ujust install-oversteer
        OpenRGB:
          description: Open source RGB lighting control that doesn't depend on manufacturer software
          default: false
          packages:
          - Install OpenRGB: ujust install-openrgb
        Wootility:
          description: A configurator for Wooting keyboards
          default: false
          packages:
          - Retrieve Wootility: ujust install-wootility
        Resilio Sync:
          description: A file synchronization utility powered by BitTorrent
          default: false
          packages:
          - Install Resilio Sync: ujust install-resilio-sync
  media-apps:
    source: yafti.screen.package
    values:
      title: Media Applications
      show_terminal: true
      package_manager: yafti.plugin.run
      groups:
        Xbox Cloud Gaming:
          description: Cloud gaming service
          default: false
          packages:
          - Install Xbox Cloud Gaming: ujust get-webapp "Xbox Cloud Gaming"
        GeForce Now:
          description: Cloud gaming service
          default: false
          packages:
          - Install GeForce Now: ujust get-webapp "GeForce Now"
        YouTube:
          description: Video sharing platform
          default: false
          packages:
          - Install YouTube: ujust get-webapp "YouTube"
        Spotify:
          description: Music streaming service
          default: false
          packages:
          - Install Spotify: ujust get-webapp "Spotify"
        Netflix:
          description: Subscription streaming service
          default: false
          packages:
          - Install Netflix: ujust get-webapp "Netflix"
        Plex HTPC:
          description: Media server client
          default: false
          packages:
          - Install Plex HTPC: ujust get-webapp "Plex HTPC"
        JellyFin:
          description: Media server client
          default: false
          packages:
          - Install JellyFin: ujust get-webapp "Jellyfin Media Player"
        Amazon Luna:
          description: Cloud gaming service
          default: false
          packages:
          - Install Amazon Luna: ujust get-webapp "Amazon Luna"
        Disney Plus:
          description: Subscription streaming service
          default: false
          packages:
          - Install Disney Plus: ujust get-webapp "Disney Plus"
        Amazon Prime Video:
          description: Subscription streaming service
          default: false
          packages:
          - Install Amazon Prime Video: ujust get-webapp "Amazon Prime Video"
        Apple TV:
          description: Subscription streaming service
          default: false
          packages:
          - Install Apple TV: ujust get-webapp "Apple TV"
        Curiosity Stream:
          description: Documentary streaming service
          default: false
          packages:
          - Install Curiosity Stream: ujust get-webapp "Curiosity Stream"
        Crunchyroll:
          description: Anime streaming service
          default: false
          packages:
          - Install Crunchyroll: ujust get-webapp "Crunchyroll"
        HBO Max:
          description: Subscription streaming service
          default: false
          packages:
          - Install HBO Max: ujust get-webapp "HBO Max"
        Hulu:
          description: Subscription streaming service
          default: false
          packages:
          - Install Hulu: ujust get-webapp "Hulu"
        Paramount Plus:
          description: Subscription streaming service
          default: false
          packages:
          - Install Paramount Plus: ujust get-webapp "Paramount Plus"
        Peacock:
          description: Subscription streaming service
          default: false
          packages:
          - Install Peacock: ujust get-webapp "Peacock"
        Sling TV:
          description: Live TV streaming service
          default: false
          packages:
          - Install Sling TV: ujust get-webapp "Sling TV"
        Vimeo:
          description: Video sharing platform
          default: false
          packages:
          - Install Vimeo: ujust get-webapp "Vimeo"
        YouTube Music:
          description: Music streaming service
          default: false
          packages:
          - Install YouTube Music: ujust get-webapp "YouTube Music"
        YouTube TV:
          description: Live TV streaming service
          default: false
          packages:
          - Install YouTube TV: ujust get-webapp "YouTube TV"
  configure-bazzite:
    source: yafti.screen.package
    values:
      title: Application Installation
      show_terminal: true
      package_manager: yafti.plugin.run
      groups:
        Add input group to current user:
          description: Adds the input group to your current user. Required by certain controller drivers.
          default: true
          packages:
          - Set input group: sudo -A ujust add-user-to-input-group
        BIOS &amp; Firmware Updates:
          description: Enables BIOS &amp; Firmware updates for Steam Deck hardware
          default: true
          packages:
          - Enable Updates: sudo -A ujust enable-deck-bios-firmware-updates
        Visible Password Asterisks:
          description: Toggles pwfeedback on.
          default: true
          packages:
          - Toggle password feedback: sudo -A ujust toggle-password-feedback on
        Hide GRUB Menu:
          description: Hide the GRUB menu on boot
          default: true
          packages:
          - Hide GRUB: sudo -A ujust configure-grub hide
        Boot to Windows from Steam:
          description: Adds a script in Steam to boot Windows which is useful for dual-boot setups
          default: false
          packages:
          - Setup Windows boot script: ujust setup-boot-windows-steam
        Automounting:
          description: Enables automounting of labeled BTRFS/EXT4 partitions under /run/media/system
          default: false
          packages:
          - Enable Automounting: ujust enable-automounting
        Wake-on-LAN:
          description: Enable Wake-on-LAN functionality to power on your device remotely
          default: false
          packages:
          - Enable WoL: ujust toggle-wol enable
        OpenTabletDriver:
          description: Open source, cross-platform, user-mode tablet driver
          default: false
          packages:
          - Install OpenTabletDriver: ujust install-opentabletdriver
        SSH Service:
          description: Enable or disable SSH remote access service on boot
          default: false
          packages:
          - Enable SSH: ujust toggle-ssh enable
        SteamCMD:
          description: Command-line version of the Steam client for dedicated servers and game downloads
          default: false
          packages:
          - Install SteamCMD: ujust install-steamcmd
  final-screen:
    source: yafti.screen.title
    values:
      title: "All done!"
      icon: "/usr/share/ublue-os/bazzite/logo.svg"
      links:
      - "Install More Applications":
          run: /usr/bin/plasma-discover || /usr/bin/gnome-software
      - "Documentation":
          run: /usr/bin/xdg-open https://docs.bazzite.gg
      - "Forums":
          run: /usr/bin/xdg-open https://universal-blue.discourse.group/c/bazzite/5
      - "Join the Discord Community":
          run: /usr/bin/xdg-open https://discord.gg/XjG48C7VHx
      - "Reboot now":
          run: systemctl reboot
      description: |
        Please reboot to apply changes made by this setup utility.
